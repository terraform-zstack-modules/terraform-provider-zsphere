---
page_title: "ZStack Provider"
description: |-
  The ZStack provider is used to interact with the resources supported by ZStack Cloud, a powerful cloud management platform. 
  This provider allows you to manage various cloud resources such as virtual machines, networks, storage, and more. 
  It provides a seamless integration with Terraform, enabling you to define and manage your cloud infrastructure as code.
---

# zsphere Provider



The ZStack provider is designed to manage resources in a ZStack Cloud environment. 
It provides a way to interact with ZStack's API to create, update, and delete resources such as virtual machines, networks, storage, and more. 
This provider is ideal for organizations looking to automate their cloud infrastructure management using Terraform.

## Example Usage

To use the ZStack provider, you need to configure it with the necessary credentials and endpoint information. Login ZStack Cloud, Operation Management -> Access Control -> AccessKey Management, Click Generate AccessKey
Below is an example configuration:

```terraform
# Copyright (c) HashiCorp, Inc.

terraform {
  required_providers {
    zsphere = {
      source = "zstack.io/terraform-provider-zstack/zsphere"
    }
  }
}

provider "zsphere" {
  host              = "ip address of zsphere cloud api endpoint"
  access_key_id     = "access_key_id of zsphere cloud"
  access_key_secret = "access_key_secret of zsphere cloud"
}

data "zsphere_images" "images" {
  name = "jiajian-test-from-terraform"
}

data "zsphere_port_groups" "networks" {
  name = "Pub-network-勿删"
}


resource "zsphere_instance" "vm" {
  name        = "vm_instance_from_terraform"
  description = "create a vm from terraform"
  image_uuid  = data.zsphere_images.images.images.0.uuid #"${data.zstack_images.images.images[0].uuid}" #"9b26312501614ec0b6dc731e6977dfb2"
  expunge     = true
  memory_size = 4096
  cpu_num     = 4

  data_disks = [
    {
      size = 10
    }
  ]
  network_interfaces = [
    {
      port_group_uuid = data.zsphere_port_groups.networks.port_groups.0.uuid
      default_l3      = true
      # static_ip       = "172.30.3.154"
    }
  ]

}

output "zsphere_instance" {
  value = zsphere_instance.vm
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `host` (String) ZSphere Cloud MN HOST ip address. May also be provided via ZSphere_HOST environment variable.

### Optional

- `access_key_id` (String) AccessKey ID for ZSphere API. Create AccessKey ID from MN,  Operational Management->Access Control->AccessKey Management. May also be provided via ZSphere_ACCESS_KEY_ID environment variable. Required if using AccessKey authentication. Mutually exclusive with `account_name` and `account_password`.
- `access_key_secret` (String, Sensitive) AccessKey Secret for ZSphere API. May also be provided via ZSphere_ACCESS_KEY_SECRET environment variable. Required if using AccessKey authentication. Mutually exclusive with `account_name` and `account_password`.
- `account_name` (String) Username for ZSphere API. May also be provided via ZSphere_ACCOUN_TNAME environment variable. Required if using Account authentication.  Only supports the platform administrator account (`admin`). Mutually exclusive with `access_key_id` and `access_key_secret`. Using `access_key_id` and `access_key_secret` is the recommended approach for authentication, as it provides more flexibility and security.
- `account_password` (String, Sensitive) Password for ZSphere API. May also be provided via ZSphere_ACCOUNT_PASSWORD environment variable.Required if using Account authentication.  Only supports the platform administrator account (`admin`). Mutually exclusive with `access_key_id` and `access_key_secret`. Using `access_key_id` and `access_key_secret` is the recommended approach for authentication, as it provides more flexibility and security.
- `port` (Number) ZSphere Cloud MN API port. May also be provided via ZSphere_PORT environment variable.


